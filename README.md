# oa-server
**编译**:
`protobuf`与`hyperscan`均采用静态链接库的方式进行进行编译
```
make
```
**启用客户端**:
```
./tclient [ipaddress] [port]
./tclient 127.0.0.1 9000
```
**启用服务端**:
```
./tserver [ipaddress] [port]
./tserver 127.0.0.1 9000
```
**客户端输入**:
+ 客户端需要输入正则表达式和需要匹配的字符串, 然后采用`protobuf`的压缩形式发送给服务器端
+ 客户端会接受服务器匹配的返回结果,采用`protobuf`的格式进行解码,目前暂定返回为正则表达式在字符串中匹配的次数,如果一次都没有匹配成功,直接返回 $0$.

**服务器端输出**:
+ 服务端接受客端发送的消息, 然后采用`protobuf`的压缩格式进行解码,然后调用`hyperscan`的进行正则匹配.
+ 模块首先会编译正则表达式,然后进行匹配,目前采用`HS_MODE_BLOCK`的模式来匹配.
+ 服务器端保存正则表达式在目标串中匹配的次数,然后采用`protobuf`的格式将结果返回给客户端.
